# ~/.inputrc — Readline configuration
# Part of ~/dotfiles — managed via install.sh

# ══════════════════════════════════════════
# General
# ══════════════════════════════════════════
# Case-insensitive completion
set completion-ignore-case on

# Treat hyphens and underscores as equivalent
set completion-map-case on

# Show all matches if ambiguous on first tab
set show-all-if-ambiguous on

# Show all matches if no further completion possible
set show-all-if-unmodified on

# Color files by type in completion (like ls)
set colored-stats on

# Color the common prefix in completions
set colored-completion-prefix on

# Append a slash to completed directory names
set mark-directories on
set mark-symlinked-directories on

# Show file type indicator in completions
set visible-stats on

# Disable the bell
set bell-style none

# UTF-8 support
set input-meta on
set output-meta on
set convert-meta off

# Don't paginate completions
set page-completions off

# Show completion inline (single tab)
set menu-complete-display-prefix on

# ══════════════════════════════════════════
# Key bindings
# ══════════════════════════════════════════
# Arrow key prefix-based history search
"\e[A": history-search-backward
"\e[B": history-search-forward
"\eOA": history-search-backward
"\eOB": history-search-forward

# Ctrl+Left/Right: move by word
"\e[1;5C": forward-word
"\e[1;5D": backward-word

# Alt+Left/Right: move by word (alternate)
"\e[1;3C": forward-word
"\e[1;3D": backward-word

# Ctrl+Delete: kill word forward
"\e[3;5~": kill-word

# Ctrl+Backspace: kill word backward
"\C-h": backward-kill-word

# Home/End
"\e[H": beginning-of-line
"\e[F": end-of-line
"\e[1~": beginning-of-line
"\e[4~": end-of-line

# Insert
"\e[2~": overwrite-mode

# ══════════════════════════════════════════
# Mode-specific (emacs mode — default)
# ══════════════════════════════════════════
$if mode=emacs
    # Ctrl+A/E: beginning/end of line (already default)
    # Ctrl+W: kill word backward (already default)
    # Ctrl+U: kill line backward (already default)
    # Ctrl+K: kill line forward (already default)

    # Ctrl+L: clear screen
    "\C-l": clear-screen

    # Alt+.: insert last argument from previous command
    "\e.": yank-last-arg
$endif
